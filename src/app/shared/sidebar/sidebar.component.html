<aside class="sidebar">
	<div class="brand">
		<div>
			<div class="h-04" style="margin:0;">EnerTEF</div>
			<div class="c-01 text-dark" style="opacity:.75">Portal</div>
		</div>
	</div>

	<nav class="nav">
		<!-- Public Section (Always Visible) -->
		<div class="nav-section">
			<div class="nav-section-header">
				<span class="nav-section-title">{{getCurrentRoleLabel()}}</span>
			</div>







			<div class="nav-section-content">
				<a *ngFor="let item of publicMenuItems" 
				   [routerLink]="item.path" 
				   routerLinkActive="active" 
				   class="nav-item">
					<i class="nav-icon {{item.icon}}"></i>
					<span class="nav-label">{{item.label}}</span>
				</a>
			</div>
		</div>

	<!-- Authenticated Sections (Hidden if not logged in or has PUBLIC role) -->
		<div *ngIf="shouldShowMyEnerTEF" class="nav-section">
			<div class="nav-section-header expanded">
				<span class="nav-section-title"><i class="fas fa-user"></i> My EnerTEF</span>
				<span class="nav-toggle">â–¼</span>
			</div>
			
			<div class="nav-section-content">
				<!-- Current Role Section -->
			

				<!-- End-User Section -->
				<div *ngIf="hasRole(UserRole.END_USER)" class="nav-subsection">
					
					<div class="nav-subsection-content">
						<a *ngFor="let item of endUserMenuItems" 
						   [routerLink]="item.path" 
						   routerLinkActive="active" 
						   class="nav-item nav-subitem">
							<i class="nav-icon {{item.icon}}"></i>
							<span class="nav-label">{{item.label}}</span>
						</a>
					</div>
				</div>

				<!-- Service Developer Section -->
				<div *ngIf="hasRole(UserRole.SERVICE_DEVELOPER)" class="nav-subsection">
					
					<div class="nav-subsection-content">
						<a *ngFor="let item of serviceDeveloperMenuItems" 
						   [routerLink]="item.path" 
						   routerLinkActive="active" 
						   class="nav-item nav-subitem">
							<i class="nav-icon {{item.icon}}"></i>
							<span class="nav-label">{{item.label}}</span>
						</a>
					</div>
				</div>

				<!-- Organization Admin Section -->
				<div *ngIf="hasRole(UserRole.ORGANIZATION_ADMIN)" class="nav-subsection">
					
					<div class="nav-subsection-content">
						<a *ngFor="let item of orgAdminMenuItems" 
						   [routerLink]="item.path" 
						   routerLinkActive="active" 
						   class="nav-item nav-subitem">
							<i class="nav-icon {{item.icon}}"></i>
							<span class="nav-label">{{item.label}}</span>
						</a>
					</div>
				</div>

				<!-- TEF Admin Section -->
				<div *ngIf="hasRole(UserRole.TEF_ADMIN)" class="nav-subsection">
					
					<div class="nav-subsection-content">
						<a *ngFor="let item of tefAdminMenuItems" 
						   [routerLink]="item.path" 
						   routerLinkActive="active" 
						   class="nav-item nav-subitem">
							<i class="nav-icon {{item.icon}}"></i>
							<span class="nav-label">{{item.label}}</span>
						</a>
					</div>
				</div>

				<!-- Node Admin Section -->
				<div *ngIf="hasRole(UserRole.NODE_ADMIN)" class="nav-subsection">
					
					<div class="nav-subsection-content">
						<a *ngFor="let item of nodeAdminMenuItems" 
						   [routerLink]="item.path" 
						   routerLinkActive="active" 
						   class="nav-item nav-subitem">
							<i class="nav-icon {{item.icon}}"></i>
							<span class="nav-label">{{item.label}}</span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</nav>
</aside>
